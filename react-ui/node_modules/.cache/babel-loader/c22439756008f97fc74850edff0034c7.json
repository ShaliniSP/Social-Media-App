{"ast":null,"code":"import _classCallCheck from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sanky/slacts/src/components/login/login.js\";\nimport React, { Component } from 'react';\nimport './login.css';\nimport postDataService from './../../dataservice/posts-service.js';\nimport { Form, Button } from 'react-bootstrap';\n\nvar sha1 = require('sha1');\n\nvar LoginComp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginComp, _Component);\n\n  function LoginComp(props, context) {\n    var _this;\n\n    _classCallCheck(this, LoginComp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginComp).call(this, props, context));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeUname = _this.onChangeUname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangePassword = _this.onChangePassword.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      show: false,\n      uname: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(LoginComp, [{\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      postDataService.login({\n        username: this.state.uname,\n        password: sha1(this.state.password)\n      }, function (resp) {\n        if (resp[\"message\"] === \"Valid sign in\") {\n          alert(\"Successfully logged in.\");\n        }\n\n        if (resp[\"message\"] === \"Error: Invalid\") {\n          alert(\"Please enter correct username.\");\n        } else {\n          alert(resp[\"message\"]);\n        }\n\n        document.cookie = 'token=' + resp.token;\n      });\n    }\n  }, {\n    key: \"onChangeUname\",\n    value: function onChangeUname(event) {\n      return this.setState({\n        uname: event.currentTarget.value\n      });\n    }\n  }, {\n    key: \"onChangePassword\",\n    value: function onChangePassword(event) {\n      return this.setState({\n        password: event.currentTarget.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Form, {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"formBasicEmailLogin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"User Name\"), React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Enter User Name\",\n        value: this.state.uname,\n        onChange: this.onChangeUname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Form.Text, {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Ex. John\")), React.createElement(Form.Group, {\n        controlId: \"formBasicPasswordLogin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: this.onChangePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"info\",\n        block: true,\n        onClick: this.onSubmit,\n        className: \"submitbutton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Login\")));\n    }\n  }]);\n\n  return LoginComp;\n}(Component);\n\nexport default LoginComp;","map":{"version":3,"sources":["/Users/sanky/slacts/src/components/login/login.js"],"names":["React","Component","postDataService","Form","Button","sha1","require","LoginComp","props","context","onSubmit","bind","onChangeUname","onChangePassword","state","show","uname","password","login","username","resp","alert","document","cookie","token","event","setState","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport './login.css';\n\nimport postDataService from './../../dataservice/posts-service.js'\n\nimport {\n    Form,\n    Button,\n} from 'react-bootstrap';\n\nvar sha1 = require('sha1');\n\nclass LoginComp extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.onChangeUname = this.onChangeUname.bind(this);\n\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.state = {\n            show: false,\n            uname: '',\n            password: '',\n        }\n    }\n\n    onSubmit() {\n\n        postDataService.login({\n            username: this.state.uname,\n            password: sha1(this.state.password),\n            },\n            (resp) => {\n                if(resp[\"message\"] === \"Valid sign in\")\n                {\n                    alert(\"Successfully logged in.\")\n                }\n\n                if(resp[\"message\"] === \"Error: Invalid\"){\n                    alert(\"Please enter correct username.\")\n                }\n                else{\n                    alert(resp[\"message\"])\n                }\n                document.cookie = 'token=' + resp.token;\n            });\n    }\n\n    onChangeUname(event) {\n\n        return this.setState({\n            uname: event.currentTarget.value,\n        });\n    }\n\n    onChangePassword(event) {\n\n        return this.setState({\n            password: event.currentTarget.value,\n        });\n    }\n\n    render() {\n        return (\n            <Form className='form'>\n                <Form.Group controlId=\"formBasicEmailLogin\">\n                <Form.Label>User Name</Form.Label>\n                <Form.Control type=\"text\" placeholder=\"Enter User Name\" value={this.state.uname} onChange={this.onChangeUname}/>\n                <Form.Text className=\"text-muted\">\n                    Ex. John\n                </Form.Text>\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPasswordLogin\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.onChangePassword}/>\n                </Form.Group>\n                <center><Button variant=\"info\" block onClick={this.onSubmit} className=\"submitbutton\">\n                    Login\n                </Button></center>\n            </Form>\n        );\n    }\n}\n\nexport default LoginComp;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sanky/slacts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sanky/slacts/src/components/post/post.js\";\nimport React, { Component } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport postDataService from './../../dataservice/posts-service.js';\nimport './post.css';\nimport placeholderImg from './../../small_852.jpg';\n\nvar Post =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Post, _Component);\n\n  function Post(props, context) {\n    var _this;\n\n    _classCallCheck(this, Post);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Post).call(this, props, context));\n    _this.state = {\n      post: props.post\n    };\n    _this.deleteFun = _this.deleteFun.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.upvoteFun = _this.upvoteFun.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// console.log(this.props);\n    }\n  }, {\n    key: \"deleteFun\",\n    value: function deleteFun() {\n      console.log(\"deleted\");\n      this.props.onDelete(this.state.post.actId);\n    }\n  }, {\n    key: \"upvoteFun\",\n    value: function upvoteFun(upvotes) {\n      var _this2 = this;\n\n      console.log('before:' + this.props.post.upvotes);\n      postDataService.upvoteAct(this.state.post.actId, function (resp) {\n        console.log(resp);\n\n        _this2.setState({\n          post: _objectSpread({}, _this2.state.post, {\n            upvotes: _this2.state.post.upvotes + 1\n          })\n        });\n      });\n      this.setState({\n        upvotes: this.state.post.upvotes + 1\n      }); // this.setState({\n      //    this.props.increaseVotes(this.state.post.upvotes);\n      // });\n\n      console.log(this.state.post.upvotes);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"postholder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"usernamehead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, '@' + this.state.post.username)), React.createElement(\"span\", {\n        className: \"actidhead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, '<#' + this.state.post.actId + '> ' + this.state.post.category))), React.createElement(Card.Img, {\n        variant: \"top\",\n        src: this.state.post.imgB64.length > 100 ? this.state.post.imgB64 : placeholderImg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"upvotebut\",\n        onClick: this.upvoteFun,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"^\"))), React.createElement(\"span\", {\n        className: \"upvotecount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.state.post.upvotes), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"delbut\",\n        onClick: this.deleteFun,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"x\"))), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.state.post.caption))));\n    }\n  }]);\n\n  return Post;\n}(Component);\n\n;\nexport default Post;","map":{"version":3,"sources":["/Users/sanky/slacts/src/components/post/post.js"],"names":["React","Component","Card","Button","postDataService","placeholderImg","Post","props","context","state","post","deleteFun","bind","upvoteFun","console","log","onDelete","actId","upvotes","upvoteAct","resp","setState","username","category","imgB64","length","caption"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Card, Button } from 'react-bootstrap';\n\nimport postDataService from './../../dataservice/posts-service.js';\n\n\nimport './post.css';\n\nimport placeholderImg from './../../small_852.jpg';\n\nclass Post extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            post: props.post,\n        }\n        this.deleteFun = this.deleteFun.bind(this);\n        this.upvoteFun = this.upvoteFun.bind(this);\n    }\n\n\n\n    componentDidMount() {\n        // console.log(this.props);\n    }\n\n    deleteFun() {\n        console.log(\"deleted\");\n        this.props.onDelete(this.state.post.actId);\n    }\n\n    upvoteFun(upvotes) {\n        console.log('before:' + this.props.post.upvotes);\n        postDataService.upvoteAct(this.state.post.actId, (resp) => {\n            console.log(resp);\n            this.setState({ post: {\n                ...this.state.post,\n                upvotes: this.state.post.upvotes + 1,\n            } })\n        });\n\n        this.setState({\n                upvotes: this.state.post.upvotes + 1,\n        });\n\n        // this.setState({\n        //    this.props.increaseVotes(this.state.post.upvotes);\n        // });\n        console.log(this.state.post.upvotes);\n\n    }\n\n\n\n    render() {\n        return (\n            <div className=\"postholder\">\n                <Card className=\"card\">\n                    <Card.Header>\n                        <span className=\"usernamehead\"><b>{'@' + this.state.post.username}</b></span>\n                        <span className=\"actidhead\"><i>{'<#' + this.state.post.actId+'> '+this.state.post.category}</i></span>\n\n                    </Card.Header>\n                    <Card.Img variant=\"top\" \n                    src={\n                        this.state.post.imgB64.length > 100 ? this.state.post.imgB64 : placeholderImg\n                        }>\n                    </Card.Img>\n\n                    <Card.Body>\n                        <span><Button className=\"upvotebut\" onClick={this.upvoteFun}><b>^</b></Button></span>\n                        <span className=\"upvotecount\">{this.state.post.upvotes}</span>\n                        <span><Button className=\"delbut\" onClick={this.deleteFun}><b>x</b></Button></span>\n\n                        <Card.Text>\n                            {this.state.post.caption}\n                        </Card.Text>\n                    </Card.Body>\n\n                </Card>\n            </div>\n        );\n    }\n};\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}